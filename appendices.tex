%----------------------------------------------------------------------------
\appendix
%----------------------------------------------------------------------------
\chapter{Development and deployment}
\section*{Setting up the environment for development}
The project was created in NodeJs and JavaScript. To compile or run it NodeJs or IOJS has to be installed on the system. The sources are stored in Github using git version control system. The backend development uses the Node's package manager, npm. The frontend uses bower package management. To build the whole system grunt-cli has to be installed. If both databases are installed the development steps for setting up only the dev environment are the following:
\begin{enumerate}
\item Install NodeJS or IOJS on the computer ( \url{https://nodejs.org/})
\item Install Git to be able to clone the project to the computer(\url{http://git-scm.com/})
\item Install Ruby for SASS ( \url{https://www.ruby-lang.org} )
\item Copy the project to your machine using git: \\
git clone https://github.com/djlancelot/dipterv-webapp.git
\item Install Node dependencies as administrator using command line: 
\begin{itemize}
\item \texttt{npm install -g grunt-cli}
\item \texttt{npm install -g bower}
\end{itemize}
\item Install SASS for compiling SCSS stylesheets using Rubies package manager \texttt{gem install sass}
\item Install local backend packages using \texttt{npm install} in the application folder
\item Install local frontend packages using \texttt{bower install}
\item Change the configuration in \texttt{server/config/environment} folder
\item Compile or run the code:
\begin{itemize}
\item Compile production version into dist folder using \texttt{grunt build --force} command
\item Run the application for testing as development version using \texttt{grunt serve} command
\end{itemize}
\end{enumerate}

The development environment will run on port 9000 and production version on port 8087 unless modified in server/config/environment directory.

If you need to add the RDF database dump to your Stardog instance you need to run \texttt{stardog data add --remove-all -v sont info/sensor-schema.rdf info/demo-sensors.rdf} inside the application folder. If the database is missing too it has to be created using \texttt{stardog-admin db create -n sont info/sensor-schema.rdf info/demo-sensors.rdf} command.

\section{Setting up the production version}

To run the application on a server you need to have Node or IOJS installed and a supervisor that can run the application. The application starts by running the \texttt{server/app.js} file. The environment has to be specified as an environment variable beforehand. The steps are the following:
\begin{enumerate}
\item Install NodeJS or IOJS
\item Copy the files from the dist folder (after compiling) to the destination computer to run production version. To run development version the contents of the original folder is needed, but production is preferred.
\item Install forever Node supervisor using npm install -g forever (on Windows you might also need npm insall -g forever-win)
\item Set Node environment variable to production (for production version only).
\begin{itemize}
\item On Windows you run \texttt{set NODE\_ENV=production}
\item On Linux simply add \texttt{NODE\_ENV=production} prefix before the forever start command
\end{itemize}
\item Start using forever with \texttt{forever start server/app.js}
\item Check if the application is running using \texttt{forever list} or the browser
\end{enumerate}
The production version will listen on port 8087.
\newpage
\section{Glossary}
\begin{description}
	\item[Audio stream] A series of network packets which transmit audio in a compressed format.
	
	\item[AVR microcontroller] A type of micro-controllers made by ATMEL Corporation. The microcontrollers are the main parts of an embedded system, they are one chip that has RAM, CPU, permanant store and input output peripherals embedded in one chip.
	
	\item[Backend] The server side, business logic based part of the application.
	
	\item[Cyberphisical system] a system that represents the physical world in the cyberspace. The measurements can be used to describe the world, run simulations and get predictions.
	
	\item[Frontend] The UI related part of an application.
	
	\item[GIT] Popular open source version control system. It is similar to SVN, except that all users have all the versions of the source code.

	\item[Horizontal scaling] Using more computing resources to be able to store more data or to calculate faster.
	
	\item[HTTP GET request] A basic HTTP request where the content of a specified URL is requested. Additional parameters may be appended to the URL.
	
	\item[HTTP POST request] This type of request is part of the HTTP standard. Using this kind of request the content is sent in the body of the request and not encoded in the URL of the request as in the GET requests.
	
	\item[JSON] JavaScript Object Notation is a format which describes JavaScript Object. Each object is given as a list of key value pair, where each value can be either a sub value or an array of values. Objects are written between curly brackets. Arrays are given in squared brackets, where values are divided by commas. The key and value are separated by a colon and those pairs are with a comma.
	
	\item[Maven] Dependency manager for JAVA packages. An XML descriptor provides information about dependencies which are automatically downloaded from a central repository. It can be used to customize the build process too.
	
	\item[NAT] Network address translation is a method to hide and transform queries from behind a router or gateway to the Internet.
	
	\item[PostgreSQL] Open source relational database system. It has many features compared to MySQL or other open source database systems.
	
	\item[PWM] Pulse-Wave-Modulation is a kind of signal processing when modulation is done by changing the duty cycle of a squared signal.
	
	\item[Spring] This Java based framework allows easy code injection and MVC implementation of application. It is an alternative to JavaEE standard.

	\item[Tomcat]  Java Web application container. It runs Java WAR packages, provides dependency injection and some basic maintenance solutions. It can be easily expendable to support spring and databases.
	
	\item[Vertical scaling] Using faster components in a single computer to provide faster results or more storage capacity.
\end{description}
